<!DOCTYPE html>
<html lang="en">
  <head>
    <title>What The &#131n!</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Clojure programming game.">
    <meta name="author" content="What The Fn!">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <link href="css/style.css" rel="stylesheet" media="screen">
  </head>

  <body>
    
    <!-- ACE EDITOR ====================================================================== -->

    <div class="container-fluid">      
      <div class="row-fluid">
        <div class="span12">
          <pre id="editor">;Ace Code Editor
          </pre><!--/#editor -->
        </div><!--/.span12-->       
      </div><!-- /.row -->

<!-- ROW UNDER EDITOR ================================================================================ -->
      <div class="row">
        <div class="span1">
          <button  id="submitbutton" type="button" class="btn btn-primary">Submit</button>
        </div><!--/. **Submit button span **-->
        <div class="dropdown span1">
          <a id="theme_selector" class="dropdown-toggle" data-toggle="dropdown" href="#">Theme<b class="caret"></b></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
            <li>Twilight</li>
            <li>Chrome</li>
          </ul>
        </div><!-- dropdown row_under_editor span1 -->
    </div><!-- /.container -->

    <script src="http://code.jquery.com/jquery.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/src/ace.js" type="text/javascript" charset="utf-8"></script>

    <!-- FROM THE ACE scrollable-page DEMO ============================================== -->
    <script>
      var $ = document.getElementById.bind(document);
      var dom = require("ace/lib/dom");

      //add command to all new editor instaces
      require("ace/commands/default_commands").commands.push({
      name: "Toggle Fullscreen",
      bindKey: "F11",
      exec: function(editor) {
      dom.toggleCssClass(document.body, "fullScreen")
      dom.toggleCssClass(editor.container, "fullScreen")
      editor.resize()
      }
      }, {
      name: "add",
      bindKey: "Shift-Return",
      exec: add
      })

      // create first editor
      var editor = ace.edit("editor");
      editor.setTheme("ace/theme/twilight");
      editor.session.setMode("ace/mode/clojure");
      editor.setReadOnly(false);


      var count = 1;
      function add() {
      var oldEl = editor.container
      var pad = document.createElement("div")
      pad.style.padding = "40px"
      oldEl.parentNode.insertBefore(pad, oldEl.nextSibling)

      var el = document.createElement("div")
      oldEl.parentNode.insertBefore(el, pad.nextSibling)

      count++
      var theme = "ace/theme/" + themes[Math.floor(themes.length * Math.random() - 1e-5)]
      editor = ace.edit(el)
      editor.setTheme(theme)
      editor.session.setMode("ace/mode/clojure")

      editor.setValue([
      "this is editor number: ", count, "\n",
      "using theme \"", theme, "\"\n",
      ":)"
      ].join(""), -1)

      scroll()
      }


      function scroll(speed) {
      var top = editor.container.getBoundingClientRect().top
      speed = speed || 10
      if (top > 60 && speed < 500) {
                              if (speed > top - speed - 50)
        speed = top - speed - 50
        else
        setTimeout(scroll, 10, speed + 10)
        window.scrollBy(0, speed)
        }
        }

        var themes = {
        bright: [ "chrome", "clouds", "crimson_editor", "dawn", "dreamweaver", "eclipse", "github",
        "solarized_light", "textmate", "tomorrow"],
        dark: [ "clouds_midnight", "cobalt", "idle_fingers", "kr_theme", "merbivore", "merbivore_soft",
        "mono_industrial", "monokai", "pastel_on_dark", "solarized_dark",  "tomorrow_night",
        "tomorrow_night_blue", "tomorrow_night_bright", "tomorrow_night_eighties", "twilight", "vibrant_ink"]
        }
        themes = [].concat(themes.bright, themes.dark)
        setTimeout(function(){ window.scrollTo(0,0) }, 10)

    </script>

  </body>

  
</html>
